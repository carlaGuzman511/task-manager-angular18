<div 
  class="task-card"
  [class.overdue]="isOverdue"
  [class.high-priority]="task.priority === 'high'"
  [class.medium-priority]="task.priority === 'medium'"
  [class.low-priority]="task.priority === 'low'"
  cdkDrag
>
  <div class="task-header">
    <div class="task-title">
      <input 
        type="checkbox" 
        [checked]="task.status === 'done'"
        (change)="onStatusToggle()"
        class="task-checkbox"
      />
      <span class="title-text">{{ task.title }}</span>
    </div>
    <div class="task-priority" [class]="task.priority">
      {{ task.priority }}
    </div>
  </div>
      
  <p class="task-description">{{ task.description }}</p>
      
  <div class="task-footer">
    <div class="due-date" [class.overdue]="isOverdue">
      {{ formattedDueDate }}
     </div>
        
    <div class="task-meta">
      @if (task.estimatedHours) {
        <span class="hours">
          {{ task.actualHours || 0 }}/{{ task.estimatedHours }}h
        </span>
      }
          
      <div class="assignees">
        @for (assignee of task.assignees; track assignee) {
          <span class="assignee">{{ assignee }}</span>
        }
      </div>
    </div>
  </div>
</div>